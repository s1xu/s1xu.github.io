<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>BarTuner - 专注调节Mac菜单栏间距的App</title>
      <link href="/bar-tuner/"/>
      <url>/bar-tuner/</url>
      
        <content type="html"><![CDATA[<h1 id="为什么要做这个工具？"><a href="#为什么要做这个工具？" class="headerlink" title="为什么要做这个工具？"></a>为什么要做这个工具？</h1><p>作为一名 MacBook 用户，相信很多人和我一样被刘海屏带来的一个小问题所困扰：右上角菜单栏的图标间距明显变宽了，看起来不够紧凑。这个细节虽小，却总让我觉得有些不够完美。</p><p>见：<a href="https://blog.s1xu.com/sets-menu-bar-spacing/">[macOS]设置菜单栏间距</a></p><h1 id="BarTuner-诞生记"><a href="#BarTuner-诞生记" class="headerlink" title="BarTuner 诞生记"></a>BarTuner 诞生记</h1><p>就这样，BarTuner 诞生了 —— 一个专注于解决单一问题的小工具。</p><p><img src="/./bar-tuner/image.png" alt="img"></p><h1 id="核心特性"><a href="#核心特性" class="headerlink" title="核心特性"></a>核心特性</h1><p>这个app只有一个功能：调整mac菜单栏间距</p><ul><li>简单直观：一个功能，一个目的 —— 调整菜单栏图标间距</li><li>原生支持：使用 Swift 开发，完美适配 macOS</li><li>轻量级：小巧精致，不占用系统资源</li></ul><p>代码已开源在Github，欢迎提issues、pr<br><a href="https://github.com/s1xu/BarTuner">https://github.com/s1xu/BarTuner</a></p><h1 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h1><p>有时候，解决一个小问题也能带来不少成就感。BarTuner 虽小，但希望能为同样注重细节的人带来一些帮助。<br>正如”小而美”的设计理念，有时候最简单的工具反而最实用。</p>]]></content>
      
      
      
        <tags>
            
            <tag> macOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浅析springretry的使用</title>
      <link href="/spring-retry/"/>
      <url>/spring-retry/</url>
      
        <content type="html"><![CDATA[<p>最近项目中使用到了spring retry用来调用三方接口中保证失败重试，增加系统健壮性，简单了解了一下使用。</p><h2 id="1-依赖"><a href="#1-依赖" class="headerlink" title="1. 依赖"></a>1. 依赖</h2><blockquote><p>添加spring-retry以及AOP依赖<br><a href="https://mvnrepository.com/artifact/org.springframework.retry/spring-retry">sprint-retry mvn center</a><br><a href="">spring-aspects mvn center</a></p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.retry<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-retry<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-使用"><a href="#2-使用" class="headerlink" title="2. 使用"></a>2. 使用</h2><h3 id="2-1-使用RetryTemplate"><a href="#2-1-使用RetryTemplate" class="headerlink" title="2. 1 使用RetryTemplate"></a>2. 1 使用RetryTemplate</h3><h4 id="配置config"><a href="#配置config" class="headerlink" title="配置config"></a>配置config</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableRetry</span> <span class="comment">// 启用</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RetryConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RetryTemplate <span class="title function_">retryTemplate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">RetryTemplate</span> <span class="variable">retryTemplate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RetryTemplate</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 配置重试策略</span></span><br><span class="line">        <span class="type">SimpleRetryPolicy</span> <span class="variable">retryPolicy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleRetryPolicy</span>();</span><br><span class="line">        retryPolicy.setMaxAttempts(<span class="number">3</span>); <span class="comment">// 设置最大重试次数</span></span><br><span class="line">        retryTemplate.setRetryPolicy(retryPolicy);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 配置退避策略</span></span><br><span class="line">        <span class="type">ExponentialBackOffPolicy</span> <span class="variable">backOffPolicy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ExponentialBackOffPolicy</span>();</span><br><span class="line">        backOffPolicy.setInitialInterval(<span class="number">1000</span>); <span class="comment">// 初始等待时间（毫秒）</span></span><br><span class="line">        backOffPolicy.setMultiplier(<span class="number">2.0</span>); <span class="comment">// 每次重试之间的等待时间乘以2</span></span><br><span class="line">        backOffPolicy.setMaxInterval(<span class="number">10000</span>); <span class="comment">// 最大等待时间（毫秒）</span></span><br><span class="line">        retryTemplate.setBackOffPolicy(backOffPolicy);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 配置重试监听器(可选，附录说明)</span></span><br><span class="line">        retryTemplate.registerListener(<span class="keyword">new</span> <span class="title class_">MyRetryListener</span>());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> retryTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="使用RetryTemplate"><a href="#使用RetryTemplate" class="headerlink" title="使用RetryTemplate"></a>使用RetryTemplate</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RetryTemplate retryTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">performOperation</span><span class="params">()</span> &#123;</span><br><span class="line">        retryTemplate.execute((RetryCallback&lt;Void, RuntimeException&gt;) context -&gt; &#123;</span><br><span class="line">            <span class="comment">// 这里是需要重试的操作</span></span><br><span class="line">            performNetworkCall();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">performNetworkCall</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 模拟网络调用</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Performing network call...&quot;</span>);</span><br><span class="line">        <span class="comment">// 模拟失败</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Network call failed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="附"><a href="#附" class="headerlink" title="附"></a>附</h4><ol><li>execute方法</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">RetryOperations</span> &#123;</span><br><span class="line"></span><br><span class="line">    &lt;T&gt; T <span class="title function_">execute</span><span class="params">(RetryCallback&lt;T&gt; retryCallback)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>execute()</code> 中的 <code>RetryCallback&lt;T&gt;</code> （重试回调）参数，它是一个接口，允许插入需要在失败时重试的业务逻辑：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">RetryCallback</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    T <span class="title function_">doWithRetry</span><span class="params">(RetryContext context)</span> <span class="keyword">throws</span> Throwable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>Listener</p><p>会在重试的时候进行回调，可以利用这个回调进行日志记录、自定义行为等</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRetryListener</span> <span class="keyword">implements</span> <span class="title class_">RetryListener</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T, E <span class="keyword">extends</span> <span class="title class_">Throwable</span>&gt; <span class="type">boolean</span> <span class="title function_">open</span><span class="params">(RetryContext context, RetryCallback&lt;T, E&gt; callback)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Before Retry&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T, E <span class="keyword">extends</span> <span class="title class_">Throwable</span>&gt; <span class="keyword">void</span> <span class="title function_">close</span><span class="params">(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;After Retry&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T, E <span class="keyword">extends</span> <span class="title class_">Throwable</span>&gt; <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Retry error: &quot;</span> + throwable.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>避退策略<ol><li>FixedBackOffPolicy 固定时间</li><li>ExponentialBackOffPolicy 指数退避策略</li><li>ExponentialRandomBackOffPolicy 指数随机退避策略</li></ol></li></ol></li></ol><h3 id="2-2-使用-Retryable注解"><a href="#2-2-使用-Retryable注解" class="headerlink" title="2.2 使用@Retryable注解"></a>2.2 使用@Retryable注解</h3><h4 id="配置config-1"><a href="#配置config-1" class="headerlink" title="配置config"></a>配置config</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableRetry</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RetryConfig</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//或在启动类上使用@EnableRetry</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableRetry</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RetryDemoApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(RetryDemoApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="使用-Retryable"><a href="#使用-Retryable" class="headerlink" title="使用@Retryable"></a>使用@Retryable</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Retryable(value = RuntimeException.class, maxAttempts = 3, backoff = @Backoff(delay = 1000))</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unstableMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Trying to execute unstableMethod&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (Math.random() &gt; <span class="number">0.2</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Service failed&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;Method succeeded&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>在抛出 <code>RuntimeException</code> 时进行重试，最多重试 3 次，每次重试之间的间隔是 1000 毫秒。</p></blockquote><h4 id="使用-Recover"><a href="#使用-Recover" class="headerlink" title="使用@Recover"></a>使用@Recover</h4><p>兜底方案，<code>@Recover</code> 注解是 Spring Retry 提供的一个机制，用于定义一个恢复方法，这个方法会在 <code>@Retryable</code> 标注的方法重试失败后执行。这样，即使在重试尽量次数之后失败，你还可以有一个后备计划来处理异常情况。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RemoteService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Retryable(value = RemoteAccessException.class, maxAttempts = 3)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">callRemoteService</span><span class="params">()</span> <span class="keyword">throws</span> RemoteAccessException &#123;</span><br><span class="line">        <span class="comment">// 假设这里有代码调用远程服务</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RemoteAccessException</span>(<span class="string">&quot;Remote Service Not Available&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Recover</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">recover</span><span class="params">(RemoteAccessException e)</span> &#123;</span><br><span class="line">        <span class="comment">// 当 callRemoteService() 方法重试 3 次失败后，会调用这个方法</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Default Response&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>注意：<code>@Recover</code> 方法必须符合以下条件：</p><ol><li><p>返回类型应该与 <code>@Retryable</code> 方法相同。</p></li><li><p>第一个参数应该是导致重试操作失败的异常类型。</p></li><li><p>其后的参数应该与 <code>@Retryable</code> 方法的参数匹配。</p></li></ol></blockquote><h4 id="附-1"><a href="#附-1" class="headerlink" title="附"></a>附</h4><ol><li><p><strong><code>value</code></strong>: 指定触发重试的异常类型。这是一个数组，可以指定一个或多个异常类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retryable(value = &#123;SQLException.class, IOException.class&#125;)</span></span><br></pre></td></tr></table></figure></li><li><p><strong><code>include</code></strong>: 指定应该触发重试的异常类型，功能同 <code>value</code>。</p></li><li><p><strong><code>exclude</code></strong>: 指定不应触发重试的异常类型。即使这些异常发生，也不会进行重试。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retryable(include = Exception.class, exclude = &#123;IllegalArgumentException.class, IllegalStateException.class&#125;)</span></span><br></pre></td></tr></table></figure></li><li><p><strong><code>maxAttempts</code></strong>: 设置最大重试次数，默认值是 <code>3</code>。</p></li><li><p><strong><code>backoff</code></strong>: 用于定义重试策略中的退避（Backoff）策略，这影响了重试之间的延迟。可以通过 <code>@Backoff</code> 注解来配置。</p><ul><li><code>delay</code>: 设置两次重试之间的延迟时间（毫秒）。默认为 <code>1000</code> 毫秒。</li><li><code>maxDelay</code>: 设置重试间延迟的最大值。只在 <code>multiplier</code> 大于 <code>1.0</code> 时有用。</li><li><code>multiplier</code>: 设置延迟时间增长的系数，用于实现指数退避策略。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retryable(backoff = @Backoff(delay = 1000, maxDelay = 5000, multiplier = 2))</span></span><br></pre></td></tr></table></figure></li><li><p><strong><code>stateful</code></strong>: 如果设置为 <code>true</code>，重试将基于异常的状态进行，而不是每次调用都重新计算。状态重试通常用于事务性操作，其中每次重试都需要知道前一次操作的状态。</p></li><li><p><strong><code>listeners</code></strong>: 指定重试操作的监听器，这些监听器必须是 <code>RetryListener</code> 类型的 Spring Bean 的名字。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retryable(listeners = &#123;&quot;MyRetryListener&quot;&#125;)</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>stateful</strong>默认为false，及无状态重试</p><p><strong>例如：</strong></p><p>你正在尝试通过一个自动售货机购买一瓶饮料。你投币后，按下饮料按钮，但由于某种原因（比如机器卡住了），饮料没有掉下来。</p><p><strong>无状态重试</strong></p><p>在无状态的情况下，每次你尝试操作时，机器都不会“记得”之前发生了什么。每次尝试购买时，都好像是第一次一样。这就像每次失败后，你都离开售货机，然后又回来重新开始整个购买过程。</p><p><strong>有状态重试</strong></p><p>而有状态的重试则不同，它类似于售货机“记住”了你之前投过币，并且知道你已经尝试按过按钮。所以当你再次尝试时，它不会要求你重新投币，而是从上次尝试失败的地方继续尝试，比如直接尝试再次释放饮料。</p><p><code>stateful</code> 重试的概念与此类似。如果你的操作因为某些外部问题（比如网络问题）失败了，设置了 <code>stateful</code> 为 <code>true</code> 的重试会“记住”之前的操作状态。当你再次尝试相同操作时，它不是从头开始，而是尝试从之前失败的地方继续完成任务。</p><p>这种类型的重试特别适用于那些需要连续状态或上下文来完成的操作，比如处理一系列需要连续的步骤的在线交易。在这些情况下，简单地重新开始可能会导致问题，如重复操作或数据不一致。</p></blockquote></li></ol><h4 id="spring-retry-流程"><a href="#spring-retry-流程" class="headerlink" title="spring retry 流程"></a>spring retry 流程</h4><p><img src="/spring-retry/image.png" alt="flow"></p><h2 id="3-参考"><a href="#3-参考" class="headerlink" title="3. 参考"></a>3. 参考</h2><ol><li><a href="https://springdoc.cn/spring-retry-guide/#google_vignette">springdoc</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记录ideavim设置</title>
      <link href="/ideavim-settings/"/>
      <url>/ideavim-settings/</url>
      
        <content type="html"><![CDATA[<p>因为习惯了vim操作，chrome中使用<code>Vimium</code>，所以寻思在常用的编辑器中也使用vim操作，所以有了如下记录：</p><h2 id="1-下载ideavim插件"><a href="#1-下载ideavim插件" class="headerlink" title="1.下载ideavim插件"></a>1.下载ideavim插件</h2><h2 id="2-查看idea自带action"><a href="#2-查看idea自带action" class="headerlink" title="2.查看idea自带action"></a>2.查看idea自带action</h2><ol><li><p>使用<code>:actionlist</code>可以查询所有命令，但是不能确定是具体映射的什么操作，所以不推荐</p></li><li><p>double shift 唤醒窗口搜索<code>track action ids</code> 打开开关，然后正常操作你需要查看的功能，右下角会提示当前的action id<br>复制然后在<code>.ideavimrc</code>中设置映射的快捷键（推荐）</p></li></ol><p>例如：</p><ol><li><p>我的<code>ma</code>是设置书签，设置后我想重命名这个书签的名称方便查找</p></li><li><p>double shift后打开<code>track action ids</code> 开关后，右键书签位置选择<code>Rename BookMark</code> ，此时右下角会弹出当前操作对应的Action id是<code>EditBookmark</code> </p></li><li><p><code>Copy Action Id</code> 在 <code>.ideavimrc</code>中</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot; bookmark 切换书签</span><br><span class="line">nmap ma &lt;action&gt;(ToggleBookmark)</span><br><span class="line">nmap rma &lt;action&gt;(EditBookmark)</span><br></pre></td></tr></table></figure></li></ol><h2 id="3-目录使用hjkl展开关闭"><a href="#3-目录使用hjkl展开关闭" class="headerlink" title="3.目录使用hjkl展开关闭"></a>3.目录使用hjkl展开关闭</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot; 设置目录树快捷键映射</span><br><span class="line">set NERDTree</span><br><span class="line">let g:NERDTreeMapActivateNode = &#x27;l&#x27;</span><br><span class="line">let g:NERDTreeMapCloseDir = &#x27;h&#x27;</span><br></pre></td></tr></table></figure><h2 id="4-自动切换输入法"><a href="#4-自动切换输入法" class="headerlink" title="4.自动切换输入法"></a>4.自动切换输入法</h2><p>vim 在退出<code>insert</code>模式自动后切换为原来的输入法<br><a href="https://github.com/hadix-lin/ideavim_extension">依赖<code>IdeaVimExtension</code>插件</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let context_aware=1</span><br><span class="line">set keep-english-in-normal-and-restore-in-insert</span><br></pre></td></tr></table></figure><p>设置后重启生效</p><blockquote><p>:set keep-english-in-normal 开启输入法自动切换功能<br>:set keep-english-in-normal-and-restore-in-insert 回到insert模式时恢复输入法<br>:set nokeep-english-in-normal-and-restore-in-insert 保留输入法自动切换功能，但是回到insert模式不恢复输入法<br>:set nokeep-english-in-normal 关闭输入法自动切换功能</p><p>context_aware&#x3D;1 回到insert模式的时候，如果光标两侧都是非ASCII字符才会恢复输入法，这是1.6.5的默认设置。<br>context_aware&#x3D;0 回到insert模式就恢复输入法</p></blockquote><br><br><details>    <summary>记录我的.ideavimrc配置(cick to show)</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br></pre></td><td class="code"><pre><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot; 🍰🍰🍰 Extensions 🍰🍰🍰</span><br><span class="line">&quot; ================================================================================================</span><br><span class="line"></span><br><span class="line">Plug &#x27;preservim/nerdtree&#x27;</span><br><span class="line">Plug &#x27;easymotion/vim-easymotion&#x27;</span><br><span class="line"></span><br><span class="line">&quot; 下列插件需要在IDEA中下载</span><br><span class="line">&quot; ideaVim</span><br><span class="line">&quot; IdeaVim-EasyMotion</span><br><span class="line">&quot; IdeaVimExtension</span><br><span class="line">&quot; which-key</span><br><span class="line">&quot; CodeGlance Pro</span><br><span class="line">&quot; TranslateAction</span><br><span class="line"></span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot; 🐧🐧🐧 Basic settings 🐧🐧🐧</span><br><span class="line">&quot; ================================================================================================</span><br><span class="line"></span><br><span class="line">set easymotion</span><br><span class="line">&quot;设置在光标距离窗口顶部或底部一定行数时，开始滚动屏幕内容的行为</span><br><span class="line">set scrolloff=10</span><br><span class="line"></span><br><span class="line">&quot;--递增搜索功能：在执行搜索（使用 / 或 ? 命令）时，</span><br><span class="line">&quot;Vim 会在您输入搜索模式的过程中逐步匹配并高亮显示匹配的文本。</span><br><span class="line">set incsearch</span><br><span class="line"></span><br><span class="line">&quot;--在搜索时忽略大小写</span><br><span class="line">set ignorecase</span><br><span class="line"></span><br><span class="line">&quot;--将搜索匹配的文本高亮显示</span><br><span class="line">set hlsearch</span><br><span class="line"></span><br><span class="line">&quot;--设置相对行号 和 当前行的绝对行号</span><br><span class="line">&quot;--set number relativenumber</span><br><span class="line"></span><br><span class="line">&quot;--设置返回normal模式时回到英文输入法</span><br><span class="line">let context_aware=1</span><br><span class="line">set keep-english-in-normal-and-restore-in-insert</span><br><span class="line"></span><br><span class="line">&quot; 设置目录树快捷键映射</span><br><span class="line">set NERDTree</span><br><span class="line">let g:NERDTreeMapActivateNode = &#x27;l&#x27;</span><br><span class="line">let g:NERDTreeMapCloseDir = &#x27;h&#x27;</span><br><span class="line"></span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot; 🌍🌍🌍 No Leader Keymaps 🌍🌍🌍</span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot;--普通模式下使用回车键，向下/向上 增加一行</span><br><span class="line">nmap &lt;CR&gt; o&lt;Esc&gt;</span><br><span class="line">nmap &lt;S-Enter&gt; O&lt;Esc&gt;</span><br><span class="line"></span><br><span class="line">&quot;--在普通和插入模式下，向下交换行/向上交换行</span><br><span class="line">nnoremap &lt;C-j&gt; :m +1&lt;CR&gt;</span><br><span class="line">nnoremap &lt;C-k&gt; :m -2&lt;CR&gt;</span><br><span class="line">inoremap &lt;C-j&gt; &lt;Esc&gt; :m +1&lt;CR&gt;gi</span><br><span class="line">inoremap &lt;C-k&gt; &lt;Esc&gt; :m -2&lt;CR&gt;gi</span><br><span class="line">xnoremap &lt;C-j&gt; :m &#x27;&gt;+1&lt;cr&gt;gv=gv</span><br><span class="line">xnoremap &lt;C-k&gt; :m &#x27;&lt;-2&lt;cr&gt;gv=gv</span><br><span class="line">nnoremap gh :action ShowErrorDescription&lt;cr&gt;</span><br><span class="line">nnoremap H ^</span><br><span class="line">nnoremap L $</span><br><span class="line">set selectmode=key</span><br><span class="line">set keymodel+=startsel,stopsel,stopselect</span><br><span class="line">nmap &lt;Leader&gt;o &lt;action&gt;(RecentProjectListGroup)</span><br><span class="line"></span><br><span class="line">&quot;--将 jj 和 jk 映射为 &lt;Esc&gt;</span><br><span class="line">&quot;jj和jk为主流配置，可按喜好自行调整</span><br><span class="line">imap jj &lt;Esc&gt;</span><br><span class="line">imap jk &lt;Esc&gt;</span><br><span class="line"></span><br><span class="line">&quot;--格式化（规范化）文本，即对选定的文本进行换行或重排，适应指定的文本宽度。</span><br><span class="line">&quot;全文规范化：Ctrl+Alt+l</span><br><span class="line">map Q gq</span><br><span class="line">&quot;跳转到下一个错误或警告</span><br><span class="line">nmap ge &lt;action&gt;(GotoNextError)</span><br><span class="line">let g:WhichKeyDesc_GotoNextError = &quot;ge 跳转到下一个错误或警告&quot;</span><br><span class="line">&quot;在源代码和测试代码之间快速切换</span><br><span class="line">nmap gt &lt;action&gt;(GotoTest)</span><br><span class="line">let g:WhichKeyDesc_GotoTest = &quot;gt 在源代码和测试代码之间快速切换&quot;</span><br><span class="line">&quot;将光标移动到上一个方法的声明处</span><br><span class="line">&quot; last changed in current buffer(file)</span><br><span class="line">nmap gm &lt;action&gt;(MethodUp)</span><br><span class="line">let g:WhichKeyDesc_MethodUp = &quot;gm 将光标移动到上一个方法的声明处&quot;</span><br><span class="line">&quot;跳转到当前接口或抽象类的实现处</span><br><span class="line">nmap ga &lt;action&gt;(GotoImplementation)</span><br><span class="line">let g:WhichKeyDesc_GotoImplementation = &quot;ga 跳转到当前接口或抽象类的实现处&quot;</span><br><span class="line"></span><br><span class="line">&quot; bookmark 切换书签</span><br><span class="line">nmap ma &lt;action&gt;(ToggleBookmark)</span><br><span class="line">nmap rma &lt;action&gt;(EditBookmark)</span><br><span class="line">nmap tm &lt;action&gt;(ActivateBookmarksToolWindow)</span><br><span class="line">let g:WhichKeyDesc_bookmark = &quot;ma 书签&quot;</span><br><span class="line"></span><br><span class="line">&quot;切换标签页</span><br><span class="line">nmap K &lt;action&gt;(NextTab)</span><br><span class="line">nmap J &lt;action&gt;(PreviousTab)</span><br><span class="line"></span><br><span class="line">&quot;将Ctrl + s 映射为保存文档(也可以在VIM设置里将此快捷键设置为IDEA的快捷键)</span><br><span class="line">nmap &lt;C-S&gt; &lt;action&gt;(SaveAll)</span><br><span class="line">imap &lt;C-S&gt; &lt;Esc&gt;&lt;action&gt;(SaveAll)</span><br><span class="line"></span><br><span class="line">&quot; e: Extract</span><br><span class="line">&quot; extract method/function 将选中的代码片段提取为一个独立的方法(Ctrl + Alt + M)</span><br><span class="line">vmap &lt;leader&gt;em &lt;action&gt;(ExtractMethod)</span><br><span class="line">&quot; extract constant （引入常量）的重构操作:将选中的代码片段抽取为一个常量，并自动替换选中的代码片段为新的常量引用(Ctrl + Alt + C)</span><br><span class="line">vmap &lt;leader&gt;ec &lt;action&gt;(IntroduceConstant)</span><br><span class="line">&quot; extract field （引入字段）的重构操作:将选中的代码片段转化为一个新的字段，并自动将选中的代码片段替换为对该字段的引用(Ctrl + Alt + F)</span><br><span class="line">vmap &lt;leader&gt;ef &lt;action&gt;(IntroduceField)</span><br><span class="line">&quot; extract variable （引入变量）的重构操作:将选中的代码片段抽取为一个新的变量，并自动替换选中的代码片段为新的变量引用(Ctrl + Alt + V)</span><br><span class="line">vmap &lt;leader&gt;ev &lt;action&gt;(IntroduceVariable)</span><br><span class="line"></span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot; ⭐️⭐️⭐️ Leader Keymaps ⭐️⭐️⭐️ =====================================</span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot;--将&lt;leader&gt;设置为 空格 键</span><br><span class="line">&quot;可自行更改，只需更改双引号内的内容即可</span><br><span class="line">&quot;推荐&lt;leader&gt;:  &quot;空格&quot;  &quot;;&quot;  &quot;\&quot;  &quot;-&quot;  &quot;,&quot;</span><br><span class="line">let mapleader = &quot; &quot;</span><br><span class="line"></span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot; 👻👻👻 Which-Key 👻👻👻</span><br><span class="line">&quot; ================================================================================================</span><br><span class="line"></span><br><span class="line">&quot;which-key的官方推荐配置</span><br><span class="line">set which-key</span><br><span class="line">set notimeout</span><br><span class="line"></span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot; 🌞🌞🌞 目录-食用手册 🌞🌞🌞</span><br><span class="line">&quot; ================================================================================================</span><br><span class="line"></span><br><span class="line">&quot;===================================== A =====================================</span><br><span class="line">&quot; a:</span><br><span class="line">&quot;===================================== B =====================================</span><br><span class="line">&quot; b:</span><br><span class="line">&quot;===================================== C =====================================</span><br><span class="line">&quot; c:  CodeAndClose-[目录]🎈</span><br><span class="line">&quot; cc: CodeCompletion-自动补全</span><br><span class="line">&quot; cd: CloseEditor-关闭当前标签页</span><br><span class="line">&quot; ca: CloseAllEditors-关闭所有标签页</span><br><span class="line">&quot; co: CloseAllEditorsButActive-关闭其他标签页</span><br><span class="line">&quot;===================================== D =====================================</span><br><span class="line">&quot; d: DebugOrDelete-[目录]🎈</span><br><span class="line">&quot; dp: BreakPoint-打断点/解除断点</span><br><span class="line">&quot; db: DeBug-调试</span><br><span class="line">&quot; [V]d: DeleteAndCopyClipboard-在可视模式中：删除选择的文本并复制到剪切板</span><br><span class="line">&quot;===================================== E =====================================</span><br><span class="line">&quot; e: ToggleExplorer ⭐️ 激活项目工具窗口</span><br><span class="line">&quot;===================================== F =====================================</span><br><span class="line">&quot; f: Find/Format ⭐🎈[目录]</span><br><span class="line">&quot; ff: FindFile-快速 导航/查找 项目中的其他文件(Ctrl + n)</span><br><span class="line">&quot; fl: FindFileLocation-将当前编辑的文件在项目视图中进行选中定位(Ctrl+f)</span><br><span class="line">&quot; ft: FindText-在整个项目中查找指定的文本、关键字或正则表达式，包括代码文件、配置文件和其他文件等(Ctrl + Shift + F)</span><br><span class="line">&quot; fc: Commands-打开 &quot;Find Action&quot;（查找动作）对话框(Ctrl + Shift + A)</span><br><span class="line">&quot; fm: Format-重新格式化代码，使其符合预定义的代码样式和规范 and 优化导入语句，删除未使用的导入，并将导入语句按字母顺序进行排列</span><br><span class="line">&quot;===================================== G =====================================</span><br><span class="line">&quot; g: GitOrGenerate 🎈[目录]</span><br><span class="line">&quot; gr: RollbackHunk-执行版本控制（VCS）的回滚操作，将修改的代码还原到之前的版本</span><br><span class="line">&quot; gc: GenerateConstructor-生成构造函数</span><br><span class="line">&quot; gg: GenerateGetter-生成getter函数</span><br><span class="line">&quot; gs: GenerateSetter-生成setter函数</span><br><span class="line">&quot; ga: GenerateGetterAndSetter-生成getter和setter函数</span><br><span class="line">&quot; ge: GenerateEquals-生成equals和hashcode的重写方法</span><br><span class="line">&quot; gd: ShowTabbedFileHistory-显示文件的版本控制历史(git)</span><br><span class="line">&quot;===================================== H =====================================</span><br><span class="line">&quot; h: MoveToLeftMoveToLeft-跳转到左边的分割窗口</span><br><span class="line">&quot;===================================== I =====================================</span><br><span class="line">&quot; i: Insert ⭐快速查找并跳转到下一个以 ( 开始的函数或方法调用的位置️</span><br><span class="line">&quot;===================================== J =====================================</span><br><span class="line">&quot; j: MoveToDown-跳转到下边的分割窗口</span><br><span class="line">&quot;===================================== K =====================================</span><br><span class="line">&quot; k: MoveToUp-跳转到上边的分割窗口</span><br><span class="line">&quot;===================================== L =====================================</span><br><span class="line">&quot; l: MoveToRight-跳转到右边的分割窗口</span><br><span class="line">&quot;===================================== M =====================================</span><br><span class="line">&quot; m: CodeGlance-打开/关闭地图(需要CodeGlance Pro插件)</span><br><span class="line">&quot;===================================== N =====================================</span><br><span class="line">&quot; n: NERDTreeOrNo ⭐️[目录]🎈</span><br><span class="line">&quot; nn: NERDTreeFocus-将使焦点转移到 NERDTree 窗口(配置在NERDTree专栏)</span><br><span class="line">&quot; nh: NoHighlight-取消搜索高亮显示</span><br><span class="line">&quot; nd: NewDir-新建文件夹</span><br><span class="line">&quot; nc: NewClass-新建类</span><br><span class="line">&quot;===================================== O =====================================</span><br><span class="line">&quot; o:</span><br><span class="line">&quot;===================================== P =====================================</span><br><span class="line">&quot; p: PasteClipboardDown-从剪切板粘贴到下面行</span><br><span class="line">&quot; P: PasteClipboardUp-从剪切板粘贴到上面行</span><br><span class="line">&quot; [V]p: PasteClipboardDown-在可视模式中：从剪切板粘贴到下面行</span><br><span class="line">&quot; [V]P: PasteClipboardUp-在可视模式中：从剪切板粘贴到上面行</span><br><span class="line">&quot;===================================== Q =====================================</span><br><span class="line">&quot; q:</span><br><span class="line">&quot;===================================== R =====================================</span><br><span class="line">&quot; r: Run/Re ⭐️[目录]🎈</span><br><span class="line">&quot; ru: Run-运行</span><br><span class="line">&quot; rc: RunClass-运行当前编辑器中的文件或类(Shift + F10)</span><br><span class="line">&quot; rr: ReRun-重新运行最近一次运行的程序或测试(Ctrl + Shift + F10)</span><br><span class="line">&quot; rt: ReRunTests-重新运行最近一次运行的测试（Unit Tests）(Ctrl + Shift + F10)</span><br><span class="line">&quot; rn: Rename-在代码中快速更改一个标识符的名称，并自动处理所有相关的引用(Shift + F6)</span><br><span class="line">&quot;===================================== S =====================================</span><br><span class="line">&quot; s: Show ⭐️[目录]🎈</span><br><span class="line">&quot; st: Stop</span><br><span class="line">&quot; ss: ShowFileStructure-显示当前打开文件的文件结构弹出窗口，其中包含文件中的类、方法、字段等结构(Alt + 7)</span><br><span class="line">&quot; sb: ShowBookmarks-显示书签（Bookmarks）工具窗口，其中包含当前文件中设置的书签列表(Ctrl + F11)</span><br><span class="line">&quot; sp: ShowParameterInfo-用于显示方法或函数的参数信息(Ctrl + p)</span><br><span class="line">&quot;===================================== T =====================================</span><br><span class="line">&quot; t: Translate-翻译(需要Translate插件)</span><br><span class="line">&quot;===================================== U =====================================</span><br><span class="line">&quot; u:</span><br><span class="line">&quot;===================================== V =====================================</span><br><span class="line">&quot; v:</span><br><span class="line">&quot;===================================== W =====================================</span><br><span class="line">&quot; w: Window ⭐️[目录]🎈</span><br><span class="line">&quot; wc: CloseSplitTab-关闭当前分割窗口(ctrl+w+c)</span><br><span class="line">&quot; wu: Unsplit-恢复当前分割窗口</span><br><span class="line">&quot; wa: UnsplitAll-恢复所有分割窗口</span><br><span class="line">&quot; wml: MoveTabRight-向右拆分标签页</span><br><span class="line">&quot; wmd: MoveTabDown-向下拆分标签页</span><br><span class="line">&quot; wmc: SplitVertically-向右复制标签页</span><br><span class="line">&quot; wmo: MoveEditorToOppositeTabGroup-在另一边打开（前提是有另一边的分割窗口）</span><br><span class="line">&quot; wl: MoveToRight-跳转到右边的窗口(&lt;c-w&gt;l)</span><br><span class="line">&quot; wh: MoveToLeft-跳转到左边的窗口(&lt;c-w&gt;h)</span><br><span class="line">&quot; wk: MoveToUp-跳转到上边的窗口(&lt;c-w&gt;k)</span><br><span class="line">&quot; wj: MoveToDown-跳转到下边的窗口(&lt;c-w&gt;j)</span><br><span class="line">&quot; wwa: HideActiveWindow-关闭提示窗口(Shift+Esc)</span><br><span class="line">&quot;===================================== X =====================================</span><br><span class="line">&quot; x:</span><br><span class="line">&quot;===================================== Y =====================================</span><br><span class="line">&quot; y: CopyClipboard-将选中行复制到剪切板</span><br><span class="line">&quot; [V]y: CopyClipboard-在可视模式中：将选中文字复制到剪切板</span><br><span class="line">&quot;===================================== Z =====================================</span><br><span class="line">&quot; z: zip(fold) ⭐️[目录]🎈</span><br><span class="line">&quot; zo: unZipAll-展开所有代码折叠区域(Ctrl + Shift + 加号键)</span><br><span class="line">&quot; zc: ZipAll-折叠所有代码折叠区域(Ctrl + Shift + 减号键)</span><br><span class="line">&quot;=============================================================================</span><br><span class="line">&quot;=============================================================================</span><br><span class="line">&quot;=============================================================================</span><br><span class="line"></span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot; 🌟🌟🌟 &lt;leader&gt;详细配置 🌟🌟🌟</span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot;========= NULL ========</span><br><span class="line">&quot;这一行为在按下&lt;leader&gt;后显示的,甭管就行</span><br><span class="line">let g:WhichKeyDesc_LeaderKeymap= &quot;&lt;leader&gt; 🌟🌟🌟紫色为二级目录🌟🌟🌟&quot;</span><br><span class="line"></span><br><span class="line">&quot;========== b ==========</span><br><span class="line"></span><br><span class="line">&quot;========== c =========c</span><br><span class="line">let g:WhichKeyDesc_CodeAndClose = &quot;&lt;leader&gt;c Code&amp;关闭&quot;</span><br><span class="line"></span><br><span class="line">&quot;关闭所有标签页</span><br><span class="line">let g:WhichKeyDesc_CodeAndClose_CloseAllEditors = &quot;&lt;leader&gt;ca 关闭所有标签页&quot;</span><br><span class="line">nmap &lt;leader&gt;ca &lt;action&gt;(CloseAllEditors)</span><br><span class="line">&quot;关闭当前标签页</span><br><span class="line">let g:WhichKeyDesc_CodeAndClose_CloseEditor = &quot;&lt;leader&gt;cd 关闭当前标签页&quot;</span><br><span class="line">nmap &lt;leader&gt;cd :action CloseEditor&lt;CR&gt;</span><br><span class="line">&quot;代码自动补全</span><br><span class="line">&quot;let g:WhichKeyDesc_CodeAndClose_CodeCompletion = &quot;&lt;leader&gt;cc 代码自动补全&quot;</span><br><span class="line">&quot;nmap &lt;leader&gt;cc &lt;action&gt;(CodeCompletion)</span><br><span class="line">let g:WhichKeyDesc_CodeAndClose_CodeCompletion = &quot;&lt;leader&gt;cc 关闭当前项目&quot;</span><br><span class="line">nmap &lt;leader&gt;cc &lt;action&gt;(CloseProject)</span><br><span class="line">&quot;关闭其他标签页</span><br><span class="line">let g:WhichKeyDesc_CodeAndClose_CloseAllEditorsButActive = &quot;&lt;leader&gt;co 关闭其他标签页&quot;</span><br><span class="line">nmap &lt;leader&gt;co :action CloseAllEditorsButActive&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot;========== d ==========</span><br><span class="line">let g:WhichKeyDesc_DeBugOrDelete= &quot;&lt;leader&gt;d 调试&amp;删除&quot;</span><br><span class="line">&quot;打断点/解除断点</span><br><span class="line">let g:WhichKeyDesc_DebugOrDelete_BreakPoint = &quot;&lt;leader&gt;dp 打断点/解除断点 &quot;</span><br><span class="line">nmap &lt;leader&gt;dp &lt;Action&gt;(ToggleLineBreakpoint)</span><br><span class="line">&quot;调试</span><br><span class="line">let g:WhichKeyDesc_DebugOrDelete_DeBug = &quot;&lt;leader&gt;db 调试&quot;</span><br><span class="line">nmap &lt;leader&gt;db &lt;Action&gt;(Debug)</span><br><span class="line">&quot;在可视模式中：删除选择的文本并复制到剪切板</span><br><span class="line">let g:WhichKeyDesc_DebugOrDelete_DeleteAndCopyToClipboard = &quot;&lt;leader&gt;dd 删除并复制到剪切板&quot;</span><br><span class="line">vmap &lt;leader&gt;dd &quot;+d</span><br><span class="line"></span><br><span class="line">&quot;========== e ==========</span><br><span class="line">&quot;激活项目工具窗口(Alt + 1)</span><br><span class="line">let g:WhichKeyDesc_ToggleExplorerOrExtract = &quot;&lt;leader&gt;e 打开文件列表&quot;</span><br><span class="line">nmap &lt;leader&gt;e &lt;action&gt;(ActivateProjectToolWindow)</span><br><span class="line"></span><br><span class="line">&quot;========== f ==========</span><br><span class="line">let g:WhichKeyDesc_FindOrFormat = &quot;&lt;leader&gt;f 查找&amp;格式化&quot;</span><br><span class="line"></span><br><span class="line">&quot;快速 导航/查找 项目中的其他文件(Ctrl + n)</span><br><span class="line">let g:WhichKeyDesc_FindOrFormat_FindFile = &quot;&lt;leader&gt;ff 查找文件&quot;</span><br><span class="line">nmap &lt;leader&gt;ff &lt;action&gt;(GotoFile)</span><br><span class="line">&quot;将当前编辑的文件在项目视图中进行选中定位(Alt + F1)</span><br><span class="line">let g:WhichKeyDesc_FindOrFormat_FindFileLocation = &quot;&lt;leader&gt;fl 定位文件位置&quot;</span><br><span class="line">nmap &lt;leader&gt;fl &lt;action&gt;(SelectInProjectView)</span><br><span class="line">&quot;在整个项目中查找指定的文本、关键字或正则表达式，包括代码文件、配置文件和其他文件等(Ctrl + Shift + F)</span><br><span class="line">let g:WhichKeyDesc_FindOrFormat_FindText = &quot;&lt;leader&gt;ft 查找字符&quot;</span><br><span class="line">nmap &lt;leader&gt;ft &lt;action&gt;(FindInPath)</span><br><span class="line">&quot;打开 &quot;Find Action&quot;（查找动作）对话框(Ctrl + Shift + A)</span><br><span class="line">let g:WhichKeyDesc_FindOrFormat_Commands = &quot;&lt;leader&gt;fc 打开查找菜单&quot;</span><br><span class="line">nmap &lt;leader&gt;fc &lt;action&gt;(GotoAction)</span><br><span class="line">&quot;重新格式化代码，使其符合预定义的代码样式和规范 \| 优化导入语句，删除未使用的导入，并将导入语句按字母顺序进行排列</span><br><span class="line">let g:WhichKeyDesc_FindOrFormat_Format = &quot;&lt;leader&gt;fm 格式化代码&quot;</span><br><span class="line">nmap &lt;leader&gt;fm &lt;action&gt;(ReformatCode) \| &lt;action&gt;(OptimizeImports)</span><br><span class="line"></span><br><span class="line">&quot;========== g ==========</span><br><span class="line">let g:WhichKeyDesc_GitOrGenerate = &quot;&lt;leader&gt;g Git&amp;构造&quot;</span><br><span class="line"></span><br><span class="line">&quot;执行版本控制（VCS）的回滚操作，将修改的代码还原到之前的版本</span><br><span class="line">let g:WhichKeyDesc_GitOrGenerate_RollbackHunk = &quot;&lt;leader&gt;gr git回滚&quot;</span><br><span class="line">nmap &lt;leader&gt;gr :action Vcs.RollbackChangedLines&lt;CR&gt;</span><br><span class="line">&quot;生成构造器</span><br><span class="line">let g:WhichKeyDesc_GitOrGenerate_GenerateConstructor = &quot;&lt;leader&gt;gc 生成构造器&quot;</span><br><span class="line">nmap &lt;leader&gt;gc :action GenerateConstructor&lt;CR&gt;</span><br><span class="line">&quot;生成getter</span><br><span class="line">let g:WhichKeyDesc_GitOrGenerate_GenerateGetter = &quot;&lt;leader&gt;gg 生成getter&quot;</span><br><span class="line">nmap &lt;leader&gt;gg :action GenerateGetter&lt;CR&gt;</span><br><span class="line">&quot;生成setter</span><br><span class="line">let g:WhichKeyDesc_GitOrGenerate_GenerateSetter = &quot;&lt;leader&gt;gs 生成setter&quot;</span><br><span class="line">nmap &lt;leader&gt;gs :action GenerateSetter&lt;CR&gt;</span><br><span class="line">&quot;生成setter和getter</span><br><span class="line">let g:WhichKeyDesc_GitOrGenerate_GenerateGetterAndSetter = &quot;&lt;leader&gt;ga 生成setter和getter&quot;</span><br><span class="line">nmap &lt;leader&gt;ga &lt;action&gt;(GenerateGetterAndSetter)</span><br><span class="line">&quot;生成 equals() 和 hashcode() 的重写方法</span><br><span class="line">let g:WhichKeyDesc_GitOrGenerate_GenerateEquals = &quot;&lt;leader&gt;ge 生成equals和hashcode的重写&quot;</span><br><span class="line">nmap &lt;leader&gt;ge &lt;action&gt;(GenerateEquals)</span><br><span class="line">&quot;生成toString</span><br><span class="line">let g:WhichKeyDesc_GitOrGenerate_GenerateToString = &quot;&lt;leader&gt;gt 生成toString&quot;</span><br><span class="line">nmap &lt;leader&gt;gt &lt;action&gt;(Actions.ActionsPlugin.GenerateToString)</span><br><span class="line">&quot;diff 显示文件的版本控制历史(git)</span><br><span class="line">nmap &lt;leader&gt;gd &lt;action&gt;(Vcs.ShowTabbedFileHistory)</span><br><span class="line">let g:WhichKeyDesc_DebugOrDelete_ShowTabbedFileHistory = &quot;&lt;leader&gt;gd 显示文件的版本控制历史&quot;</span><br><span class="line"></span><br><span class="line">&quot;========== h ==========</span><br><span class="line">&quot;跳转到左边的分割窗口</span><br><span class="line">let g:WhichKeyDesc_Show_MoveToLeft = &quot;&lt;leader&gt;h 向左跳转&quot;</span><br><span class="line">nmap &lt;leader&gt;h &lt;c-w&gt;h</span><br><span class="line"></span><br><span class="line">&quot;========== i ==========</span><br><span class="line">&quot;快速查找并跳转到下一个以 ( 开始的函数或方法调用的位置️</span><br><span class="line">let g:WhichKeyDesc_InsertAfterBrackets = &quot;&lt;leader&gt;i 跳转到选一个(&quot;</span><br><span class="line">nmap &lt;leader&gt;i f(a</span><br><span class="line"></span><br><span class="line">&quot;========== j ==========</span><br><span class="line">&quot;跳转到下边的分割窗口</span><br><span class="line">let g:WhichKeyDesc_Show_MoveToDown = &quot;&lt;leader&gt;j 向下跳转&quot;</span><br><span class="line">nmap &lt;leader&gt;j &lt;c-w&gt;j</span><br><span class="line"></span><br><span class="line">&quot;========== k ==========</span><br><span class="line">&quot;跳转到上边的分割窗口</span><br><span class="line">let g:WhichKeyDesc_Show_MoveToUp = &quot;&lt;leader&gt;k 向上跳转&quot;</span><br><span class="line">nmap &lt;leader&gt;k &lt;c-w&gt;k</span><br><span class="line"></span><br><span class="line">&quot;========== l ==========</span><br><span class="line">&quot;跳转到右边的窗口</span><br><span class="line">let g:WhichKeyDesc_Show_MoveToRight = &quot;&lt;leader&gt;l 向右跳转&quot;</span><br><span class="line">nmap &lt;leader&gt;l &lt;c-w&gt;l</span><br><span class="line"></span><br><span class="line">&quot;========== m ==========</span><br><span class="line">&quot;打开/关闭 代码小地图</span><br><span class="line">let g:WhichKeyDesc_CodeGlance = &quot;&lt;leader&gt;m 开关小地图&quot;</span><br><span class="line">nmap &lt;leader&gt;m &lt;action&gt;(CodeGlance.toggle)</span><br><span class="line">&quot;好像更新版本后,突然用不了了,用默认的ctrl+shift+G吧</span><br><span class="line"></span><br><span class="line">&quot;========== n ==========</span><br><span class="line">let g:WhichKeyDesc_NERDTreeOrNew = &quot;&lt;leader&gt;n 目录树&amp;新建&quot;</span><br><span class="line"></span><br><span class="line">&quot;取消搜索高亮显示(No Highlight)</span><br><span class="line">let g:WhichKeyDesc_NERDTreeOrNew_Highlight = &quot;&lt;leader&gt;nh 取消搜索高亮&quot;</span><br><span class="line">nmap &lt;leader&gt;nl :nohlsearch&lt;CR&gt;</span><br><span class="line">&quot;在当前目录新建文件夹</span><br><span class="line">let g:WhichKeyDesc_NERDTreeOrNew_NewDir = &quot;&lt;leader&gt;nd 新建文件夹&quot;</span><br><span class="line">nmap &lt;leader&gt;nd &lt;action&gt;(NewDir)</span><br><span class="line">&quot;在当前目录新建类</span><br><span class="line">let g:WhichKeyDesc_NERDTreeOrNew_NewClass = &quot;&lt;leader&gt;nc 新建.Class&quot;</span><br><span class="line">nmap &lt;leader&gt;nc &lt;action&gt;(NewClass)</span><br><span class="line"></span><br><span class="line">&quot;========== p ==========</span><br><span class="line">&quot;从剪切板粘贴到下面行</span><br><span class="line">let g:WhichKeyDesc_PasteClipboardDown = &quot;&lt;leader&gt;p 从剪切板粘贴到下面行&quot;</span><br><span class="line">nmap &lt;leader&gt;p &quot;+p</span><br><span class="line">&quot;从剪切板粘贴到上面行</span><br><span class="line">let g:WhichKeyDesc_PasteClipboardUp = &quot;&lt;leader&gt;P 从剪切板粘贴到上面行&quot;</span><br><span class="line">nmap &lt;leader&gt;P &quot;+P</span><br><span class="line">&quot;在可视模式中：从剪切板粘贴到下面行</span><br><span class="line">let g:WhichKeyDesc_PasteClipboardDown = &quot;&lt;leader&gt;p 从剪切板粘贴到下面行&quot;</span><br><span class="line">vmap &lt;leader&gt;p &quot;+p</span><br><span class="line">&quot;在可视模式中：从剪切板粘贴到上面行</span><br><span class="line">let g:WhichKeyDesc_PasteClipboardUp = &quot;&lt;leader&gt;P 从剪切板粘贴到上面行&quot;</span><br><span class="line">vmap &lt;leader&gt;P &quot;+P</span><br><span class="line"></span><br><span class="line">&quot;========== r ==========</span><br><span class="line">let g:WhichKeyDesc_RunOrRe = &quot;&lt;leader&gt;r 运行&amp;重新&quot;</span><br><span class="line"></span><br><span class="line">&quot;运行当前编辑器中的文件或类(Shift + F10)</span><br><span class="line">let g:WhichKeyDesc_RunOrRe_RunCalss = &quot;&lt;leader&gt;rc 运行当前文件&quot;</span><br><span class="line">nmap &lt;leader&gt;rc :action RunClass&lt;CR&gt;</span><br><span class="line">&quot;重新运行最近一次运行的程序或测试(Ctrl+Shift + F10)</span><br><span class="line">let g:WhichKeyDesc_RunOrRe_ReRun = &quot;&lt;leader&gt;rr 重新运行&quot;</span><br><span class="line">nmap &lt;leader&gt;rr &lt;action&gt;(Rerun)</span><br><span class="line">&quot;重新运行最近一次运行的测试（Unit Tests）(Ctrl + Shift + F10)</span><br><span class="line">let g:WhichKeyDesc_RunOrRe_ReRunTests = &quot;&lt;leader&gt;rt 重新运行Test&quot;</span><br><span class="line">nmap &lt;leader&gt;rt &lt;action&gt;(RerunTests)</span><br><span class="line">&quot;在代码中快速更改一个标识符的名称，并自动处理所有相关的引用(Shift + F6)</span><br><span class="line">let g:WhichKeyDesc_RunOrRe_Rename = &quot;&lt;leader&gt;rn 重构&quot;</span><br><span class="line">map &lt;leader&gt;rn &lt;action&gt;(RenameElement)</span><br><span class="line">&quot;运行</span><br><span class="line">let g:WhichKeyDesc_RunOrRe_Run = &quot;&lt;leader&gt;ru 运行&quot;</span><br><span class="line">map &lt;leader&gt;ru &lt;action&gt;(Run)</span><br><span class="line"></span><br><span class="line">&quot;========== s ==========</span><br><span class="line">let g:WhichKeyDesc_Show = &quot;&lt;leader&gt;s 显示&amp;停止&quot;</span><br><span class="line"></span><br><span class="line">&quot;显示当前打开文件的文件结构弹出窗口，其中包含文件中的类、方法、字段等结构(Alt + 7)</span><br><span class="line">let g:WhichKeyDesc_Show_FileStructure = &quot;&lt;leader&gt;ss 显示文件结构&quot;</span><br><span class="line">nmap &lt;leader&gt;ss &lt;action&gt;(FileStructurePopup)</span><br><span class="line">&quot;显示书签（Bookmarks）工具窗口，其中包含当前文件中设置的书签列表(Ctrl + F11)</span><br><span class="line">let g:WhichKeyDesc_Show_Bookmarks = &quot;&lt;leader&gt;sb 显示书签工具窗口&quot;</span><br><span class="line">nmap &lt;leader&gt;sb &lt;action&gt;(ShowBookmarks)</span><br><span class="line">&quot;用于显示方法或函数的参数信息(Ctrl + p)</span><br><span class="line">let g:WhichKeyDesc_Show_ParameterInfo = &quot;&lt;leader&gt;sp 显示方法或函数的参数信息&quot;</span><br><span class="line">nmap &lt;leader&gt;sp &lt;action&gt;(ParameterInfo)</span><br><span class="line">&quot;Stop</span><br><span class="line">let g:WhichKeyDesc_Show_Stop = &quot;&lt;leader&gt;st 停止运行&quot;</span><br><span class="line">nmap &lt;leader&gt;st &lt;action&gt;(Stop)</span><br><span class="line"></span><br><span class="line">&quot;========= t ==========</span><br><span class="line">&quot;翻译</span><br><span class="line">let g:WhichKeyDesc_Translate = &quot;&lt;leader&gt;t 翻译&quot;</span><br><span class="line">nmap &lt;leader&gt;t &lt;action&gt;($EditorTranslateAction)</span><br><span class="line">vmap &lt;leader&gt;t &lt;action&gt;($EditorTranslateAction)</span><br><span class="line"></span><br><span class="line">&quot;========== w ==========</span><br><span class="line">let g:WhichKeyDesc_Windows = &quot;&lt;leader&gt;w 窗口&quot;</span><br><span class="line">let g:WhichKeyDesc_Windows_Hide = &quot;&lt;leader&gt;ww 关闭提示窗口-&gt;a&quot;</span><br><span class="line">let g:WhichKeyDesc_Windows_Move = &quot;&lt;leader&gt;wm 移动窗口&quot;</span><br><span class="line"></span><br><span class="line">&quot;向右拆分标签页</span><br><span class="line">let g:WhichKeyDesc_Windows_Move_MoveTabRight = &quot;&lt;leader&gt;wml 向右拆分标签页&quot;</span><br><span class="line">nmap &lt;leader&gt;wml &lt;action&gt;(MoveTabRight)</span><br><span class="line">&quot;向下拆分标签页</span><br><span class="line">let g:WhichKeyDesc_Windows_Move_MoveTabDown = &quot;&lt;leader&gt;wmd 向下拆分标签页&quot;</span><br><span class="line">nmap &lt;leader&gt;wmd &lt;action&gt;(MoveTabDown)</span><br><span class="line">&quot;在另一边打开（前提是有另一边的分割窗口）</span><br><span class="line">let g:WhichKeyDesc_Windows_Move_MoveEditorToOppositeTabGroup = &quot;&lt;leader&gt;wmo 在另一边打开&quot;</span><br><span class="line">nmap &lt;leader&gt;wmo &lt;action&gt;(MoveEditorToOppositeTabGroup)</span><br><span class="line">&quot;向右复制标签页</span><br><span class="line">let g:WhichKeyDesc_Windows_Move_SplitVertically = &quot;&lt;leader&gt;wmc 向右复制标签页&quot;</span><br><span class="line">nmap &lt;leader&gt;wmc &lt;action&gt;(SplitVertically)</span><br><span class="line"></span><br><span class="line">&quot;取消所有分割窗口</span><br><span class="line">let g:WhichKeyDesc_Windows_UnsplitAll = &quot;&lt;leader&gt;wa 取消所有分割窗口&quot;</span><br><span class="line">nmap &lt;leader&gt;wa &lt;action&gt;(UnsplitAll)</span><br><span class="line">&quot;关闭当前窗口或分割窗格</span><br><span class="line">let g:WhichKeyDesc_Windows_closeActiveWindow = &quot;&lt;leader&gt;wc 关闭当前分割窗口&quot;</span><br><span class="line">nmap &lt;leader&gt;wc &lt;c-w&gt;c</span><br><span class="line">&quot;取消拆分当前分割窗口</span><br><span class="line">let g:WhichKeyDesc_Windows_Unsplit = &quot;&lt;leader&gt;wu 取消拆分当前分割窗口&quot;</span><br><span class="line">nmap &lt;leader&gt;wu &lt;action&gt;(Unsplit)</span><br><span class="line"></span><br><span class="line">&quot;关闭提示窗口</span><br><span class="line">let g:WhichKeyDesc_Windows_Hide_HideActiveWindow = &quot;&lt;leader&gt;wwa 关闭提示窗口&quot;</span><br><span class="line">nmap &lt;leader&gt;wwa &lt;action&gt;(HideActiveWindow)</span><br><span class="line"></span><br><span class="line">&quot;========== y ==========</span><br><span class="line">&quot;普通模式下将 &quot;+ (复制到剪切板）简化为 &lt;leader&gt;y</span><br><span class="line">let g:WhichKeyDesc_CopyClipboard = &quot;&lt;leader&gt;y 复制到剪切板&quot;</span><br><span class="line">vmap &lt;leader&gt;y &quot;+y</span><br><span class="line">&quot;可视模式下将 &quot;+ (复制到剪切板）简化为 &lt;leader&gt;y</span><br><span class="line">let g:WhichKeyDesc_CopyClipboard= &quot;&lt;leader&gt;y 复制到剪切板&quot;</span><br><span class="line">nmap &lt;leader&gt;y &quot;+yy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;========== z ==========</span><br><span class="line">let g:WhichKeyDesc_Zip = &quot;&lt;leader&gt;z 折叠&quot;</span><br><span class="line"></span><br><span class="line">&quot;展开所有代码折叠区域(Ctrl + Shift + 加号键)</span><br><span class="line">let g:WhichKeyDesc_Zip_unZipAll = &quot;&lt;leader&gt;zo 展开所有折叠&quot;</span><br><span class="line">nmap &lt;leader&gt;zo &lt;action&gt;(ExpandAllRegions)</span><br><span class="line">&quot;折叠所有代码折叠区域(Ctrl + Shift + 减号键)</span><br><span class="line">let g:WhichKeyDesc_Zip_ZipAll = &quot;&lt;leader&gt;zc 折叠所有代码&quot;</span><br><span class="line">nmap &lt;leader&gt;zc &lt;action&gt;(CollapseAllRegions)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot; 🌸🌸🌸 NERDTree 🌸🌸🌸</span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot;&lt;C-w-w&gt;：在多个打开的编辑器窗口之间切换</span><br><span class="line">&quot;在目录中，按下 go 打开文件并保持光标在目录</span><br><span class="line">&quot;在目录中，按下 gi 以上下并排窗口形式打开文件(并关闭目录)</span><br><span class="line">&quot;在目录树中，使用空格预览文件</span><br><span class="line">&quot;光标在目录时，按Esc回到编辑器</span><br><span class="line">&quot;编辑器和目录间切换存在许多功能类似的快捷键，相似但不完全相同</span><br><span class="line">&quot;仅 打开/关闭 目录推荐使用&lt;leader&gt;wo 其次 Alt + 1</span><br><span class="line"></span><br><span class="line">&quot;按下 &lt;leader&gt;nn 将使焦点转移到 NERDTree 窗口</span><br><span class="line">nnoremap &lt;leader&gt;nn :NERDTreeFocus&lt;CR&gt;</span><br><span class="line">let g:WhichKeyDesc_NERDTreeOrNo_NERDTreeFocus = &quot;&lt;leader&gt;nn 转移到目录树&quot;</span><br><span class="line"></span><br><span class="line">&quot;按下 &lt;C-n&gt; 将打开 NERDTree 文件资源管理器(==&lt;leader&gt;nn)</span><br><span class="line">nnoremap &lt;C-n&gt; :NERDTree&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot;按下 &lt;C-t&gt; 将切换 NERDTree 文件资源管理器的显示状态，即打开或关闭 NERDTree(不建议)</span><br><span class="line">nnoremap &lt;C-t&gt; :NERDTreeToggle&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot;按下 &lt;C-f&gt; 将在 NERDTree 文件资源管理器中定位当前编辑文件所在的节点，并使其可见(&lt;leader&gt;fl)</span><br><span class="line">nnoremap &lt;C-f&gt; :NERDTreeFind&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot; ================================================================================================</span><br><span class="line">&quot; 🌸🌸🌸 Easymotion 🌸🌸🌸</span><br><span class="line">&quot; ================================================================================================</span><br><span class="line"></span><br><span class="line">&quot; let g:WhichKeyDesc_easymotionkey = &quot;&lt;leader&gt;&lt;leader&gt; 快速跳转插件&quot;</span><br><span class="line"></span><br><span class="line">&quot;普通模式输入s后输入要跳转到单词首字母(或多输入几个字母)</span><br><span class="line">nmap s &lt;Plug&gt;(easymotion-bd-n)</span><br><span class="line">let g:WhichKeyDesc_easymotion = &quot;s 快速跳转&quot;</span><br></pre></td></tr></table></figure></details><h2 id="5-参考"><a href="#5-参考" class="headerlink" title="5.参考"></a>5.参考</h2><p>Google</p>]]></content>
      
      
      <categories>
          
          <category> jetbrains </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jetbrains </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>免费使用ssl证书</title>
      <link href="/free-use-of-ssl-certificates/"/>
      <url>/free-use-of-ssl-certificates/</url>
      
        <content type="html"><![CDATA[<blockquote><p>  <a href="https://letsencrypt.org/">Let’s Encrypt</a> 是一个于2015年推出的数字证书认证机构，将通过旨在消除当前手动创建和安装证书的复杂过程的自动化流程，为安全网站提供免费的SSL&#x2F;TLS证书。这是由<a href="https://letsencrypt.org/isrg/">互联网安全研究小组</a>（ISRG – Internet Security Research Group，一个公益组织）提供的服务。主要赞助商包括<a href="https://www.eff.org/">电子前哨基金会</a>，<a href="https://www.mozilla.org/foundation/">Mozilla基金会</a>，<a href="https://www.akamai.com/">Akamai</a>以及Cisco等公司。</p></blockquote><h2 id="1-安装certbot"><a href="#1-安装certbot" class="headerlink" title="1. 安装certbot"></a>1. 安装certbot</h2><p> <a href="https://certbot.eff.org/">https://certbot.eff.org</a> </p><ol><li><p>安装 EPEL 仓库（如果尚未安装）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install epel-release</span><br></pre></td></tr></table></figure></li><li><p>安装 Certbot 及其 Nginx 插件：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install certbot python2-certbot-nginx</span><br></pre></td></tr></table></figure></li></ol><p>会列出所有的nginx服务，回车默认全选</p><blockquote><ol><li><p>证书位置：你的证书和链文件已保存在 &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;xxx.cn&#x2F;fullchain.pem，而私钥文件保存在 &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;xxx.cn&#x2F;privkey.pem。这些是配置服务器 SSL 的关键文件。</p></li><li><p>证书到期：你的证书将在 xxxx-xx-xx 到期。为了保持网站的安全，你需要在这个日期之前续期你的证书。</p></li><li><p>续期证书：未来要续期或修改证书，只需再次运行 Certbot 并使用 “certonly” 选项即可。为了简化续期过程，可以运行 certbot renew 命令以非交互方式续期所有证书</p></li></ol></blockquote><p>安装完成后nginx配置中会新增一些配置</p><p>这里建议配置 <strong>http2</strong>，这要求 Nginx 版本要大于 1.9.5。HTTP2 具有更快的 HTTPS 传输性能，非常值得开启。</p><p>需要开启HTTP&#x2F;2其实很简单，只需要在 nginx.conf 的 listen 443 ssl; 后面加上 http2 就好了。如下所示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">listen 443 ssl http2; <span class="comment"># managed by Certbot</span></span><br><span class="line">ssl_certificate /etc/letsencrypt/live/xxx.cn/fullchain.pem; <span class="comment"># managed by Certbot</span></span><br><span class="line">ssl_certificate_key /etc/letsencrypt/live/xxx.cn/privkey.pem; <span class="comment"># managed by Certbot</span></span><br><span class="line">include /etc/letsencrypt/options-ssl-nginx.conf; <span class="comment"># managed by Certbot</span></span><br></pre></td></tr></table></figure><p>然后，重启nginx <code>nginx -s reload</code> </p><h2 id="2-配置自动更新"><a href="#2-配置自动更新" class="headerlink" title="2. 配置自动更新"></a>2. 配置自动更新</h2><p>Let’s Encrypt 的证书90天就过期了，所以，你还要设置上自动化的更新脚本，最容易的莫过于使用 crontab 了。使用 crontab -e 命令加入如下的定时作业（每个月都强制更新一下）：</p><ol><li><p>输入命令 crontab -e 打开当前用户的 crontab 文件。如果你是以 root 用户运行 Certbot（通常是这种情况），你应该以 root 用户身份运行这个命令。</p></li><li><p>设置每月自动续期：<br>如果你想每个月自动尝试更新证书，并在更新后重启 Nginx 以应用新的证书，可以添加以下两行到你的 crontab 文件中：</p></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 0 1 * * /usr/bin/certbot renew --force-renewal</span><br><span class="line">5 0 1 * * /usr/sbin/service nginx restart</span><br></pre></td></tr></table></figure><h2 id="3-扩展证书"><a href="#3-扩展证书" class="headerlink" title="3. 扩展证书"></a>3. 扩展证书</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot --<span class="built_in">expand</span> -d xxxx.com -d xxx.xxxx.com</span><br></pre></td></tr></table></figure><h2 id="4-创建新证书"><a href="#4-创建新证书" class="headerlink" title="4. 创建新证书"></a>4. 创建新证书</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot --nginx -d xxx.xxx.com</span><br></pre></td></tr></table></figure><h2 id="5-列出所有证书"><a href="#5-列出所有证书" class="headerlink" title="5. 列出所有证书"></a>5. 列出所有证书</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot certificates</span><br></pre></td></tr></table></figure><h2 id="6-删除某个证书"><a href="#6-删除某个证书" class="headerlink" title="6. 删除某个证书"></a>6. 删除某个证书</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot delete --cert-name your-cert-name</span><br></pre></td></tr></table></figure><h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><ul><li><a href="https://coolshell.cn/articles/18094.html">如何免费的让网站启用HTTPS(coolshell)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[macOS]记录我的mac设置</title>
      <link href="/record-mac-settings/"/>
      <url>/record-mac-settings/</url>
      
        <content type="html"><![CDATA[<h2 id="1-调整启动台图标数量"><a href="#1-调整启动台图标数量" class="headerlink" title="1. 调整启动台图标数量"></a>1. 调整启动台图标数量</h2><p>Mac的Launchpad启动台下会存放应用程序的图标。但在默认设置下，这些应用的图标很大，而且也比较占用屏幕空间。<br>想找一个程序最简单的当然是聚焦和Alfred，不过偶尔看着启动台很乱也很难受。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock springboard-columns -int 9</span><br><span class="line"></span><br><span class="line">defaults write com.apple.dock springboard-rows -int 6</span><br><span class="line"></span><br><span class="line">defaults write com.apple.dock ResetLaunchPad -bool TRUE</span><br><span class="line"></span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure><blockquote><p>每行的含义：<br>1、调整每一行显示图标数量，9表示每一行显示9列图标，数字部分可随意设置.. 不过不建议太极端。<br>2、调整每一屏显示图标的行数，我用的是6，数字部分可随意设置，建议同上。<br>3、重置Launchpad<br>4、重启Dock</p></blockquote><p>如果手抖 多输入了几百个零 还有个恢复默认设置的方法，在终端执行以下4行命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock springboard-rows Default</span><br><span class="line">defaults write com.apple.dock springboard-columns Default</span><br><span class="line">defaults write com.apple.dock ResetLaunchPad -bool TRUE</span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure><h2 id="2-恢复Dock栏默认设置"><a href="#2-恢复Dock栏默认设置" class="headerlink" title="2. 恢复Dock栏默认设置"></a>2. 恢复Dock栏默认设置</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults delete com.apple.dock; killall Dock</span><br></pre></td></tr></table></figure><h2 id="3-禁用Chrome浏览器触控板手势"><a href="#3-禁用Chrome浏览器触控板手势" class="headerlink" title="3. 禁用Chrome浏览器触控板手势"></a>3. 禁用Chrome浏览器触控板手势</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.goolge.Chrome AppleEnableSwipeNavigateWithScrolls -bool FALSE</span><br></pre></td></tr></table></figure><h2 id="4-键盘功能键调整"><a href="#4-键盘功能键调整" class="headerlink" title="4. 键盘功能键调整"></a>4. 键盘功能键调整</h2><p>M系列以前，F5和F6是可以调节键盘灯光亮度的，但是M系列后F5、F6键盘功能区有更新，换成了搜索和录音。</p><p>平时开发中需要debug原因，所以我打开了<code>将F1、F2等键用作标准功能键</code>设置，正常使用功能区需要FN+xx键配合。某一天发现FN+F5，F6会没有功能，因为这个事儿还和客服沟通过，个人觉得这是一个设计上的缺陷。</p><p><code>Copy the configuration below to ~/Library/LaunchAgents/com.local.KeyRemapping.plist</code></p><p>在<code>~/Library/LaunchAgents/</code>目录下新增一个配置文件<code>com.local.KeyRemapping.plist</code></p><p>键入：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">plist</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//Apple//DTD PLIST 1.0//EN&quot;</span> <span class="string">&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">&quot;1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Label<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>com.local.KeyRemapping<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>ProgramArguments<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>/usr/bin/hidutil<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>property<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>--set<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>&#123;&quot;UserKeyMapping&quot;:[</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;HIDKeyboardModifierMappingSrc&quot;: 0xC000000CF,</span><br><span class="line">              &quot;HIDKeyboardModifierMappingDst&quot;: 0xFF00000009</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;HIDKeyboardModifierMappingSrc&quot;: 0x10000009B,</span><br><span class="line">              &quot;HIDKeyboardModifierMappingDst&quot;: 0xFF00000008</span><br><span class="line">            &#125;</span><br><span class="line">        ]&#125;<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>RunAtLoad<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure><p>以上是将F5、F6映射到键盘灯光调整</p><p>控制台查看已映射的功能键：</p><p><code>hidutil property --get &quot;UserKeyMapping&quot;</code> </p><blockquote><p>附：<br>常见功能的HID键值</p><table><thead><tr><th>键</th><th>媒体功能</th><th>HID键码</th></tr></thead><tbody><tr><td>F1</td><td>减低屏幕亮度</td><td>0x0C00000070</td></tr><tr><td>F2</td><td>增加屏幕亮度</td><td>0x0C0000006F</td></tr><tr><td>F3</td><td>Expose</td><td>0xFF0100000010</td></tr><tr><td>F4</td><td>Spotlight(AC Search)</td><td>0xC00000221</td></tr><tr><td>F5</td><td>Dictation</td><td>0xC000000CF</td></tr><tr><td>F6</td><td>勿扰模式(Do Not Disturb)</td><td>0x10000009B</td></tr><tr><td>F7</td><td>重播</td><td>0x0C000000B4</td></tr><tr><td>F8</td><td>播放&#x2F;暂停</td><td>0x0C000000CD</td></tr><tr><td>F9</td><td>快进</td><td>0x0C000000B3</td></tr><tr><td>F10</td><td>静音</td><td></td></tr><tr><td>F11</td><td>减小音量</td><td>0x0C000000EA</td></tr><tr><td>F12</td><td>增加音量</td><td>0x0C000000E9</td></tr><tr><td></td><td>减少键盘背光</td><td>0xFF00000009</td></tr><tr><td></td><td>增强键盘背光</td><td>0xFF00000008</td></tr><tr><td></td><td>锁屏&#x2F;屏保</td><td>0x0C0000019E</td></tr><tr><td></td><td>Launchpad</td><td>0x0C000002A2</td></tr><tr><td></td><td>Dashboard</td><td>0xFF0100000002</td></tr></tbody></table></blockquote><h2 id="5-Magic-Mouse-调整光标速度"><a href="#5-Magic-Mouse-调整光标速度" class="headerlink" title="5. Magic Mouse 调整光标速度"></a>5. Magic Mouse 调整光标速度</h2><ol><li><p>查看当前光标速度</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults read -g com.apple.mouse.scaling</span><br></pre></td></tr></table></figure></li><li><p>调整速度为7.5</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write -g com.apple.mouse.scaling 7.5</span><br></pre></td></tr></table></figure></li><li><p><code>sudo reboot</code> 重启</p></li></ol><h2 id="6-设置菜单栏间距"><a href="#6-设置菜单栏间距" class="headerlink" title="6. 设置菜单栏间距"></a>6. 设置菜单栏间距</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">指定间距</span></span><br><span class="line">defaults -currentHost write -globalDomain NSStatusItemSpacing -int 10</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">指定内边距</span></span><br><span class="line">defaults -currentHost write -globalDomain NSStatusItemSelectionPadding -int 6</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当前间距查询</span></span><br><span class="line">defaults -currentHost read -globalDomain NSStatusItemSpacing</span><br><span class="line">defaults -currentHost read -globalDomain NSStatusItemSelectionPadding</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重置</span></span><br><span class="line">defaults -currentHost delete -globalDomain NSStatusItemSpacing</span><br><span class="line">defaults -currentHost delete -globalDomain NSStatusItemSelectionPadding</span><br></pre></td></tr></table></figure><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ol><li><p><a href="https://www.readern.com/keymapping-in-mac.html">Mac电脑键盘映射的最轻量方法</a></p></li><li><p><a href="https://hidutil-generator.netlify.app/">hidutil key remapping generator</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> macOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[macOS]设置菜单栏间距</title>
      <link href="/sets-menu-bar-spacing/"/>
      <url>/sets-menu-bar-spacing/</url>
      
        <content type="html"><![CDATA[<h2 id="为什么会想要手动修改"><a href="#为什么会想要手动修改" class="headerlink" title="为什么会想要手动修改"></a>为什么会想要手动修改</h2><p>在MacBook 14及以后的版本中，屏幕中央新增了一个刘海设计，同时右侧状态栏的间距相较之前有所增宽。这使得本已空间有限的菜单栏显得更加拥挤。</p><p>尝试过<code>Barbee</code>  <code>Bartender</code>等一些菜单栏工具，相对来说Bartender功能更加丰富，<a href="https://www.reddit.com/r/macapps/comments/1d7zjv8/bartender_5_not_safe_anymore_warning_from/">由于最近的社区讨论</a>，用着有点不放心，所以就有了以下设置：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">指定间距</span></span><br><span class="line">defaults -currentHost write -globalDomain NSStatusItemSpacing -int 10</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">指定内边距</span></span><br><span class="line">defaults -currentHost write -globalDomain NSStatusItemSelectionPadding -int 6</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当前间距查询</span></span><br><span class="line">defaults -currentHost read -globalDomain NSStatusItemSpacing</span><br><span class="line">defaults -currentHost read -globalDomain NSStatusItemSelectionPadding</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重置</span></span><br><span class="line">defaults -currentHost delete -globalDomain NSStatusItemSpacing</span><br><span class="line">defaults -currentHost delete -globalDomain NSStatusItemSelectionPadding</span><br></pre></td></tr></table></figure><h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><ul><li><p><a href="https://www.reddit.com/r/macapps/comments/1d8l54f/reduce_spacing_between_menubar_items/">reddit</a></p></li><li><p><a href="https://cn.v2ex.com/t/1047186#reply29">v2ex</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> macOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macOS </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
